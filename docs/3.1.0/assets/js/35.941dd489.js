(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{450:function(t,s,a){"use strict";a.r(s);var n=a(61),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"旧バージョンからの移行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#旧バージョンからの移行"}},[t._v("#")]),t._v(" 旧バージョンからの移行")]),t._v(" "),a("p",[t._v("Mini Tokyo 3D v3.0.0では、いくつかの互換性を損なう変更が行われました。拡張性と使いやすさを向上させるために、後方互換性を手放す必要がありましたが、メリットがある場合にのみ行うことを目指しました。")]),t._v(" "),a("h2",{attrs:{id:"v3-0-0-への移行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#v3-0-0-への移行"}},[t._v("#")]),t._v(" v3.0.0 への移行")]),t._v(" "),a("h3",{attrs:{id:"互換性を損なう変更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#互換性を損なう変更"}},[t._v("#")]),t._v(" 互換性を損なう変更")]),t._v(" "),a("h4",{attrs:{id:"minitokyo3d-クラスではなく-mt3d-名前空間をエクスポート"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minitokyo3d-クラスではなく-mt3d-名前空間をエクスポート"}},[t._v("#")]),t._v(" "),a("code",[t._v("MiniTokyo3D")]),t._v(" クラスではなく "),a("code",[t._v("mt3d")]),t._v(" 名前空間をエクスポート")]),t._v(" "),a("p",[t._v("従来の "),a("code",[t._v("MiniTokyo3D")]),t._v(" クラスの代わりに、"),a("code",[t._v("mt3d.Map")]),t._v(" クラスにコンストラクタオプションを渡して Mini Tokyo 3D マップのオブジェクトを作成します。"),a("code",[t._v("mt3d")]),t._v(" 名前空間には "),a("code",[t._v("Map")]),t._v(" クラスの他にも複数のクラスや Mapbox GL JS、three.js ライブラリ全体が含まれており、マップのカスタマイズに利用することができます。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mini-tokyo-3d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("accessToken")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Mapbox アクセストークン>'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("mt3d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("詳しくは、"),a("RouterLink",{attrs:{to:"/ja/developer-guide/integration.html"}},[t._v("Mini Tokyo 3D の使用")]),t._v("をご覧ください。")],1),t._v(" "),a("h4",{attrs:{id:"プラグインフレームワークを再設計してすべてのプラグインを個別に提供"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#プラグインフレームワークを再設計してすべてのプラグインを個別に提供"}},[t._v("#")]),t._v(" プラグインフレームワークを再設計してすべてのプラグインを個別に提供")]),t._v(" "),a("p",[t._v("旧バージョンでは、いくつかのプラグインは Mini Tokyo 3D ライブラリに含まれる形で提供されていましたが、v3.0.0 ではプラグインフレームワークの設計を一から見直すとともに、すべてのプラグインを別モジュールとして提供するようになりました。このため、プラグインを追加する際には "),a("code",[t._v("Map")]),t._v(" クラスのコンストラクタオプションとして、明示的に "),a("code",[t._v("PluginInterface")]),t._v(" を実装したオブジェクトのリストを指定する必要があります。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mt3dPrecipitation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mt3dFireworks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("mt3d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("詳しくは、"),a("RouterLink",{attrs:{to:"/ja/developer-guide/integration.html#プラグインの追加"}},[t._v("プラグインの追加")]),t._v("をご覧ください。")],1),t._v(" "),a("h4",{attrs:{id:"コンストラクタオプション-secrets-mapbox-の代わりに-accesstoken-を使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#コンストラクタオプション-secrets-mapbox-の代わりに-accesstoken-を使用"}},[t._v("#")]),t._v(" コンストラクタオプション "),a("code",[t._v("secrets.mapbox")]),t._v(" の代わりに "),a("code",[t._v("accessToken")]),t._v(" を使用")]),t._v(" "),a("p",[t._v("従来 "),a("code",[t._v("MiniTokyo3D")]),t._v(" コンストラクタのオプション "),a("code",[t._v("secrets.mapbox")]),t._v(" で指定していた Mapbox アクセストークンは、"),a("code",[t._v("accessToken")]),t._v(" に指定して "),a("code",[t._v("Map")]),t._v(" オブジェクトを作成します。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("accessToken")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Mapbox アクセストークン>'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("mt3d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("詳しくは、"),a("RouterLink",{attrs:{to:"/ja/developer-guide/integration.html"}},[t._v("Mini Tokyo 3D の使用")]),t._v("をご覧ください。")],1)])}),[],!1,null,null,null);s.default=e.exports}}]);