(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{317:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"旧バージョンからの移行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#旧バージョンからの移行"}},[t._v("#")]),t._v(" 旧バージョンからの移行")]),t._v(" "),s("p",[t._v("Mini Tokyo 3D v3.0.0では、いくつかの互換性を損なう変更が行われました。拡張性と使いやすさを向上させるために、後方互換性を手放す必要がありましたが、メリットがある場合にのみ行うことを目指しました。")]),t._v(" "),s("h2",{attrs:{id:"v3-0-0-への移行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v3-0-0-への移行"}},[t._v("#")]),t._v(" v3.0.0 への移行")]),t._v(" "),s("h3",{attrs:{id:"互換性を損なう変更"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#互換性を損なう変更"}},[t._v("#")]),t._v(" 互換性を損なう変更")]),t._v(" "),s("h4",{attrs:{id:"minitokyo3d-クラスではなく-mt3d-名前空間をエクスポート"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minitokyo3d-クラスではなく-mt3d-名前空間をエクスポート"}},[t._v("#")]),t._v(" "),s("code",[t._v("MiniTokyo3D")]),t._v(" クラスではなく "),s("code",[t._v("mt3d")]),t._v(" 名前空間をエクスポート")]),t._v(" "),s("p",[t._v("従来の "),s("code",[t._v("MiniTokyo3D")]),t._v(" クラスの代わりに、"),s("code",[t._v("mt3d.Map")]),t._v(" クラスにコンストラクタオプションを渡して Mini Tokyo 3D マップのオブジェクトを作成します。"),s("code",[t._v("mt3d")]),t._v(" 名前空間には "),s("code",[t._v("Map")]),t._v(" クラスの他にも複数のクラスや Mapbox GL JS、three.js ライブラリ全体が含まれており、マップのカスタマイズに利用することができます。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("container")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mini-tokyo-3d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("accessToken")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Mapbox アクセストークン>'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("mt3d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("詳しくは、"),s("RouterLink",{attrs:{to:"/ja/developer-guide/integration.html"}},[t._v("Mini Tokyo 3D の使用")]),t._v("をご覧ください。")],1),t._v(" "),s("h4",{attrs:{id:"プラグインフレームワークを再設計してすべてのプラグインを個別に提供"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#プラグインフレームワークを再設計してすべてのプラグインを個別に提供"}},[t._v("#")]),t._v(" プラグインフレームワークを再設計してすべてのプラグインを個別に提供")]),t._v(" "),s("p",[t._v("旧バージョンでは、いくつかのプラグインは Mini Tokyo 3D ライブラリに含まれる形で提供されていましたが、v3.0.0 ではプラグインフレームワークの設計を一から見直すとともに、すべてのプラグインを別モジュールとして提供するようになりました。このため、プラグインを追加する際には "),s("code",[t._v("Map")]),t._v(" クラスのコンストラクタオプションとして、明示的に "),s("code",[t._v("PluginInterface")]),t._v(" を実装したオブジェクトのリストを指定する必要があります。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mt3dPrecipitation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mt3dFireworks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("mt3d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("詳しくは、"),s("RouterLink",{attrs:{to:"/ja/developer-guide/integration.html#プラグインの追加"}},[t._v("プラグインの追加")]),t._v("をご覧ください。")],1),t._v(" "),s("h4",{attrs:{id:"コンストラクタオプション-secrets-mapbox-の代わりに-accesstoken-を使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#コンストラクタオプション-secrets-mapbox-の代わりに-accesstoken-を使用"}},[t._v("#")]),t._v(" コンストラクタオプション "),s("code",[t._v("secrets.mapbox")]),t._v(" の代わりに "),s("code",[t._v("accessToken")]),t._v(" を使用")]),t._v(" "),s("p",[t._v("従来 "),s("code",[t._v("MiniTokyo3D")]),t._v(" コンストラクタのオプション "),s("code",[t._v("secrets.mapbox")]),t._v(" で指定していた Mapbox アクセストークンは、"),s("code",[t._v("accessToken")]),t._v(" に指定して "),s("code",[t._v("Map")]),t._v(" オブジェクトを作成します。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("accessToken")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Mapbox アクセストークン>'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("mt3d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("詳しくは、"),s("RouterLink",{attrs:{to:"/ja/developer-guide/integration.html"}},[t._v("Mini Tokyo 3D の使用")]),t._v("をご覧ください。")],1)])}),[],!1,null,null,null);s.default=e.exports}}]);