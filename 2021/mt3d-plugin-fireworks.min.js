/*!
 * mt3d-plugin-fireworks v0.2.0
 * https://minitokyo3d.com
 * (c) 2021 Akihiko Kusanagi
 * Released under the MIT license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("mini-tokyo-3d")):"function"==typeof define&&define.amd?define(["mini-tokyo-3d"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).mt3dFireworks=t(e.mt3d)}(this,(function(e){"use strict";const{AdditiveBlending:t,BufferGeometry:s,DynamicDrawUsage:a,Float32BufferAttribute:r,FloatType:o,Group:i,Math:c,Points:n,RawShaderMaterial:l,Texture:h,Vector3:d}=e.THREE;const m=.998,p=e=>{const t=3*e;return{x:t,y:t+1,z:t+2}},u=e=>{const t=4*e;return{r:t,g:t+1,b:t+2,a:t+3}},y=(e=0,t=0)=>Math.floor(Math.random()*(e+1-t))+t,f=(()=>{const e=document.createElement("canvas"),t=e.getContext("2d");e.width=128,e.height=128;((e,t,s,a)=>{e.save();const r=e.createRadialGradient(t,t,0,t,t,t);r.addColorStop(0,"rgba(255,255,255,1.0)"),r.addColorStop(.5,"rgba(255,255,255,0.5)"),r.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=r,e.fillRect(0,0,s,a),e.restore()})(t,64,e.width,e.height);const s=new h(e);return s.type=o,s.needsUpdate=!0,s})();class g{constructor(e,o,i,c){this.scale=e,this.particleNum=o,this.timerStartFading=10,this.mesh=((e,o,i)=>{const c=new s,h=[],m=[],p=[],u=[],g=[],z=Math.random()>.3?"single":"multiple",v=.01*y(100,20),w=()=>.01*y(100,1);let M;const x=Math.random();M=x>.66?"red":x>.33?"green":"blue";for(let t=0;t<e;t++){const e=new d(0,0,0);if(h.push(e.x,e.y,e.z),m.push(o[t].x,o[t].y,o[t].z),"seed"===i){let e;e=.1*Math.random()+.1,0===t&&(e*=1.1),u.push(5*e),g.push(.017*e),p.push(1,1,1,1)}else{const e=.001*y(300,10);if(u.push(5*e),g.push(.017*e),"multiple"===z)p.push(w(),w(),w(),1);else switch(M){case"red":p.push(v,.1,.1,1);break;case"green":p.push(.1,v,.1,1);break;case"blue":p.push(.1,.1,v,1);break;default:p.push(v,.1,.1,1)}}}c.setAttribute("position",new r(h,3).setUsage(a)),c.setAttribute("velocity",new r(m,3).setUsage(a)),c.setAttribute("color",new r(p,4).setUsage(a)),c.setAttribute("adjustSize",new r(u,1).setUsage(a)),c.setAttribute("mass",new r(g,1).setUsage(a));const b=new l({uniforms:{size:{type:"f",value:128},texture:{type:"t",value:f}},transparent:!0,depthWrite:!1,blending:t,vertexShader:"\n            precision highp float;\n            attribute vec3 position;\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            uniform float size;\n            attribute float adjustSize;\n            uniform vec3 cameraPosition;\n            attribute vec3 velocity;\n            attribute vec4 color;\n            varying vec4 vColor;\n            void main() {\n                vColor = color;\n                vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);\n                gl_PointSize = size * adjustSize * (100.0 / length(modelViewPosition.xyz));\n                gl_Position = projectionMatrix * modelViewPosition;\n            }\n        ",fragmentShader:"\n            precision mediump float;\n            uniform sampler2D texture;\n            varying vec4 vColor;\n            void main() {\n                vec4 color = vec4(texture2D(texture, gl_PointCoord));\n                gl_FragColor = color * vColor;\n            }\n        "});return new n(c,b)})(o,i,c)}update(e){this.timerStartFading>0&&(this.timerStartFading-=.3);const{position:t,velocity:s,color:a,mass:r}=this.mesh.geometry.attributes;for(let i=0;i<this.particleNum;i++){const{x:c,y:n,z:l}=p(i);s.array[l]+=e.z-r.array[i]*this.scale,s.array[c]*=m,s.array[n]*=m,s.array[l]*=m,t.array[c]+=s.array[c],t.array[n]+=s.array[n],t.array[l]+=s.array[l];const{a:h}=u(i);this.timerStartFading<=0&&(a.array[h]*=(Math.random()>.5?.98:.96)-(o=a.array[h],Math.random()>.5?0:.1*(1-o)),a.array[h]<.001&&(a.array[h]=0))}var o;t.needsUpdate=!0,s.needsUpdate=!0,a.needsUpdate=!0}disposeAll(){this.mesh.geometry.dispose(),this.mesh.material.dispose()}}class z extends g{constructor(e,t,s){super(e,t,s,"seed")}update(e){const{position:t,velocity:s,color:a,mass:r}=this.mesh.geometry.attributes,o=()=>(Math.random()>.5?.05:-.05)*this.scale,i=()=>Math.random()>.1,c=.97804;for(let l=0;l<this.particleNum;l++){const{x:h,y:d,z:m}=p(l);s.array[m]+=e.z-r.array[l]*this.scale,s.array[h]*=c,s.array[d]*=c,s.array[m]*=c,t.array[h]+=s.array[h],t.array[d]+=s.array[d],t.array[m]+=s.array[m],i()&&(t.array[h]+=o()),i()&&(t.array[d]+=o());const{a:y}=u(l);a.array[y]*=(Math.random()>.3?.99:.96)-(n=a.array[y],Math.random()>.3?0:.1*(1-n)),a.array[y]<.001&&(a.array[y]=0)}var n;t.needsUpdate=!0,s.needsUpdate=!0,a.needsUpdate=!0}}class v extends g{constructor(e,t,s){super(e,t,s,"trail")}update(e){const{position:t,velocity:s,color:a,mass:r}=this.mesh.geometry.attributes,o=()=>(Math.random()>.5?.05:-.05)*this.scale,i=()=>Math.random()>.2;for(let c=0;c<this.particleNum;c++){const{x:n,y:l,z:h}=p(c);s.array[h]+=e.z-r.array[c]*this.scale,s.array[n]*=m,s.array[l]*=m,s.array[h]*=m,t.array[n]+=s.array[n],t.array[l]+=s.array[l],t.array[h]+=s.array[h],i()&&(t.array[n]+=o()),i()&&(t.array[l]+=o());const{a:d}=u(c);a.array[d]*=Math.random()>.3?.98:.95,a.array[d]<.001&&(a.array[d]=0)}t.needsUpdate=!0,s.needsUpdate=!0,a.needsUpdate=!0}}class w{constructor(e,t){this.scale=e,this.position=t,this.gravity=new d(0,0,-.005*e),this.meshGroup=new i,this.isExplode=!1;this.petalsNum=y(400,150),this.life=150,this.seed=this.getSeed(),this.meshGroup.add(this.seed.mesh),this.flowerSizeRate=c.mapLinear(this.petalsNum,150,400,.4,.7)}getSeed(){const e=[];for(let t=0;t<40;t++){const s=0,a=0,r=(0===t?2.5*Math.random()+.9:2*Math.random()+.4)*this.scale;e.push(new d(s,a,r))}const t=new z(this.scale,40,e);return t.mesh.position.set(this.position.x,this.position.y,0),t}explode(e){this.isExplode=!0,this.flower=this.getFlower(e),this.meshGroup.add(this.flower.mesh),this.meshGroup.remove(this.seed.mesh),this.seed.disposeAll()}getFlower(e){const t=this.petalsNum,s=[];let a;if(Math.random()>.5)for(let e=0;e<t;e++){a=.01*y(120,60)*this.scale;const e=c.degToRad(180*Math.random()),t=c.degToRad(360*Math.random()),r=Math.sin(e)*Math.cos(t)*a,o=Math.sin(e)*Math.sin(t)*a,i=Math.cos(e)*a,n=new d(r,o,i);n.multiplyScalar(this.flowerSizeRate),s.push(n)}else{const e=180/t,r=360*(20*Math.random()+1)/t,o=r,i=r;a=.01*y(120,60)*this.scale;for(let r=0;r<t;r++){const t=Math.sin(c.degToRad(e*r)),n=Math.cos(c.degToRad(e*r))*a,l=Math.cos(c.degToRad(o*r))*t*a,h=Math.sin(c.degToRad(i*r))*t*a,m=new d(l,h,n);m.multiplyScalar(this.flowerSizeRate),s.push(m)}}const r=new g(this.scale,t,s);return r.mesh.position.set(e.x,e.y,e.z),r}update(){this.isExplode?(this.flower.update(this.gravity),this.life>0&&(this.life-=1)):this.drawTail()}drawTail(){this.seed.update(this.gravity);const{position:e,velocity:t}=this.seed.mesh.geometry.attributes;let s=0,a=!0;for(let e=0,a=t.array.length;e<a;e++){const a=t.array[e];2===e%3&&a>0&&s++}if(a=0===s,!a)return;const{x:r,y:o,z:i}=this.seed.mesh.position,c=new d(r,o,i);let n,l=0;for(let t=0,s=e.array.length;t<s;t++){const s=e.array[t];2===t%3&&s>l&&(l=s,n=new d(e.array[t-2],e.array[t-1],s))}c.add(n),this.explode(c)}}class M extends w{constructor(e,t){super(e,t);this.petalsNum=y(150,100),this.flowerSizeRate=c.mapLinear(this.petalsNum,100,150,.4,.7),this.tailMeshGroup=new i,this.tails=[]}explode(e){this.isExplode=!0,this.flower=this.getFlower(e),this.tails=this.getTail(),this.meshGroup.add(this.flower.mesh),this.meshGroup.add(this.tailMeshGroup)}getTail(){const e=[],{color:t}=this.flower.mesh.geometry.attributes;for(let s=0;s<this.petalsNum;s++){const a=[];for(let e=0;e<20;e++){a.push(new d(0,0,0))}const r=new v(this.scale,20,a),{r:o,g:i,b:c,a:n}=u(s),l=t.array[o],h=t.array[i],m=t.array[c],p=t.array[n],{position:y,color:f}=r.mesh.geometry.attributes;for(let e=0;e<y.count;e++){const{r:t,g:s,b:a,a:r}=u(e);f.array[t]=l,f.array[s]=h,f.array[a]=m,f.array[r]=p}const{x:g,y:z,z:w}=this.flower.mesh.position;r.mesh.position.set(g,z,w),e.push(r),this.tailMeshGroup.add(r.mesh)}return e}update(){if(this.isExplode){this.flower.update(this.gravity);const{position:e}=this.flower.mesh.geometry.attributes;for(let t=0,s=this.tails.length;t<s;t++){const s=this.tails[t];s.update(this.gravity);const{x:a,y:r,z:o}=p(t),i=new d(e.array[a],e.array[r],e.array[o]),{position:c,velocity:n}=s.mesh.geometry.attributes;for(let e=0;e<c.count;e++){const{x:t,y:s,z:a}=p(e),r=new d,o=new d(c.array[t],c.array[s],c.array[a]),l=new d(n.array[t],n.array[s],n.array[a]);r.subVectors(i,o);const h=r.sub(l);h.normalize(),h.multiplyScalar(3e-4*Math.random()*this.life*this.scale),n.array[t]+=h.x,n.array[s]+=h.y,n.array[a]+=h.z}n.needsUpdate=!0}this.life>0&&(this.life-=1.2)}else this.drawTail()}}class x{constructor(e){const t=this;t.id=e.id,t.type="three",t.lightColor="white",t.fireworksInstances={};const s=()=>{t.tick(),requestAnimationFrame(s)};s()}onAdd(e,t){this.map=e,this.scene=t.scene}tick(){const{fireworksInstances:e,scene:t}=this;for(const s of Object.keys(e)){const a=e[s],r=[];for(let e=a.length-1;e>=0;e--){const t=a[e];t.update(),t.isExplode&&r.push(e)}for(let e=0,s=r.length;e<s;e++){const s=r[e],o=a[s];if(!o)return;o.meshGroup.remove(o.seed.mesh),o.seed.disposeAll(),o.life<=0&&(t.remove(o.meshGroup),o.tailMeshGroup&&o.tails.forEach((e=>{e.disposeAll()})),o.flower.disposeAll(),a.splice(s,1))}}}launchFireWorks(e,t){const s=this,{map:a,scene:r,fireworksInstances:o}=s;let i=o[e];if(i||(i=s.fireworksInstances[e]=[]),i.length>5)return;const c=a.getModelPosition(t),n=a.getModelScale(),l=Math.pow(2,17-(h=a.getZoom(),d=16,Math.min(Math.max(h,14),d)))*n;var h,d;const m={x:c.x+(400*Math.random()-200)*n,y:c.y+(400*Math.random()-200)*n},p=Math.random()>.5?new w(l,m):new M(l,m);i.push(p),r.add(p.meshGroup)}}class b{constructor(){const e=this;e.id="fireworks",e.name={en:"Fireworks",ja:"花火",ko:"불꽃놀이",ne:"आतिशबाजी",th:"ดอกไม้ไฟ","zh-Hans":"烟花","zh-Hant":"煙花"},e.iconStyle={backgroundSize:"32px",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 60' fill='white'%3e%3cpath d='m39 0c-0.552 0-1 0.447-1 1v11c0 0.553 0.448 1 1 1s1-0.447 1-1v-11c0-0.553-0.448-1-1-1zm-6.977 1.004c-0.1297-0.008047-0.2643 0.007734-0.3945 0.05273-0.521 0.185-0.7934 0.7554-0.6094 1.275l3.664 10.37c0.145 0.411 0.5314 0.666 0.9434 0.666 0.11 0 0.222-0.01864 0.332-0.05664 0.521-0.185 0.7934-0.7554 0.6094-1.275l-3.662-10.37c-0.138-0.3908-0.4938-0.6399-0.8828-0.6641zm14.91 0.4922c-0.3895-0.002859-0.7623 0.224-0.9258 0.6035l-4.361 10.1c-0.219 0.507 0.01548 1.095 0.5215 1.314 0.129 0.056 0.2625 0.08203 0.3945 0.08203 0.387 0 0.755-0.2255 0.918-0.6035l4.361-10.1c0.219-0.507-0.01548-1.096-0.5215-1.314-0.1262-0.05475-0.2569-0.08108-0.3867-0.08203zm-22.08 4.361c-0.2558 0-0.5115 0.09747-0.707 0.293-0.391 0.391-0.391 1.023 0 1.414l7.779 7.779c0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.09797 0.707-0.293c0.391-0.391 0.391-1.023 0-1.414l-7.779-7.779c-0.1955-0.1955-0.4513-0.293-0.707-0.293zm28.29 0c-0.2558 0-0.5115 0.09747-0.707 0.293l-7.779 7.779c-0.391 0.39-0.391 1.023 0 1.414 0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.09797 0.707-0.293l7.779-7.779c0.391-0.391 0.391-1.023 0-1.414-0.1955-0.1955-0.4513-0.293-0.707-0.293zm-32.5 6.449c-0.3899-0.002719-0.7623 0.2221-0.9258 0.6016-0.22 0.507 0.01448 1.097 0.5215 1.316l10.1 4.359c0.129 0.056 0.2625 0.08203 0.3945 0.08203 0.387 0 0.755-0.2255 0.918-0.6035 0.219-0.507-0.01353-1.096-0.5195-1.314l-10.1-4.359c-0.127-0.0545-0.2587-0.08112-0.3887-0.08203zm37.27 0.8926c-0.1297-0.008094-0.2638 0.009937-0.3945 0.05469l-10.37 3.664c-0.521 0.185-0.7934 0.7554-0.6094 1.275 0.145 0.411 0.5314 0.666 0.9434 0.666 0.11 0 0.222-0.01864 0.332-0.05664l10.37-3.664c0.521-0.185 0.7934-0.7554 0.6094-1.275-0.1388-0.3908-0.4918-0.6398-0.8809-0.6641zm-18.92 1.801c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm-20 5c-0.552 0-1 0.447-1 1s0.448 1 1 1h11c0.552 0 1-0.447 1-1s-0.448-1-1-1h-11zm29 0c-0.553 0-1 0.447-1 1s0.447 1 1 1h11c0.553 0 1-0.447 1-1s-0.447-1-1-1h-11zm-33 1c-0.552 0-1 0.447-1 1v2c0 0.553 0.448 1 1 1s1-0.447 1-1v-2c0-0.553-0.448-1-1-1zm-4.879 1.01c-0.1289-0.01612-0.2618-0.009407-0.3945 0.02734-0.532 0.152-0.8395 0.7053-0.6875 1.236l0.5488 1.924c0.125 0.439 0.5259 0.7266 0.9609 0.7266 0.091 0 0.1844-0.01406 0.2754-0.03906 0.531-0.152 0.8385-0.7053 0.6875-1.236l-0.5488-1.922c-0.114-0.3982-0.4551-0.6684-0.8418-0.7168zm10.94 0.9922c-0.3893-0.02452-0.7737 0.1803-0.959 0.5508l-0.7637 1.527c-0.248 0.495-0.04773 1.097 0.4473 1.344 0.144 0.071 0.2953 0.1035 0.4453 0.1035 0.367 0 0.7205-0.2017 0.8965-0.5527l0.7637-1.527c0.247-0.494 0.04674-1.095-0.4473-1.342-0.124-0.06125-0.253-0.09534-0.3828-0.1035zm9.531 0.2344c-0.1294-0.01069-0.2635 0.003625-0.3945 0.04688l-6.514 2.145c-0.525 0.173-0.8097 0.7387-0.6367 1.264 0.138 0.421 0.5292 0.6875 0.9492 0.6875 0.104 0 0.2095-0.01483 0.3125-0.04883l6.514-2.146c0.525-0.173 0.8097-0.7367 0.6367-1.262-0.1298-0.3938-0.4791-0.6535-0.8672-0.6855zm16.67 0.1895c-0.3899-0.00314-0.7603 0.224-0.9238 0.6035-0.219 0.507 0.01353 1.096 0.5195 1.314l10.1 4.359c0.129 0.056 0.2645 0.08203 0.3965 0.08203 0.388 0 0.755-0.2255 0.918-0.6035 0.218-0.505-0.01448-1.094-0.5215-1.312l-10.1-4.361c-0.127-0.05525-0.2587-0.08098-0.3887-0.08203zm-42.18 1.578c-0.2549-0.023-0.519 0.05202-0.7305 0.2285-0.424 0.354-0.48 0.9832-0.127 1.408l1.279 1.537c0.198 0.237 0.4825 0.3574 0.7695 0.3574 0.226 0 0.4536-0.07547 0.6406-0.2305 0.424-0.354 0.481-0.9842 0.127-1.408l-1.281-1.537c-0.177-0.2125-0.4229-0.3325-0.6777-0.3555zm9.91 0.9961c-0.552 0-1 0.447-1 1v2c0 0.553 0.448 1 1 1s1-0.447 1-1v-2c0-0.553-0.448-1-1-1zm17.64 0.3633c-0.2558 0-0.5115 0.09747-0.707 0.293l-6.637 6.637c-0.391 0.391-0.391 1.023 0 1.414 0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.09797 0.707-0.293l6.637-6.637c0.391-0.391 0.391-1.023 0-1.414-0.1955-0.1955-0.4513-0.293-0.707-0.293zm12.73 0c-0.2558 0-0.5115 0.09747-0.707 0.293-0.391 0.391-0.391 1.023 0 1.414l7.779 7.779c0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.09797 0.707-0.293c0.391-0.391 0.391-1.023 0-1.414l-7.779-7.779c-0.1955-0.1955-0.4513-0.293-0.707-0.293zm-33.87 0.4531c-0.129-0.01617-0.2618-0.007203-0.3945 0.0293-0.531 0.152-0.8385 0.7034-0.6875 1.234l0.5488 1.924c0.126 0.44 0.5259 0.7266 0.9609 0.7266 0.091 0 0.1844-0.01406 0.2754-0.03906 0.531-0.152 0.8385-0.7053 0.6875-1.236l-0.5488-1.922c-0.1133-0.3982-0.4549-0.6683-0.8418-0.7168zm7.465 0.3965c-0.3897-0.02438-0.7737 0.1803-0.959 0.5508l-0.8945 1.789c-0.247 0.494-0.04674 1.095 0.4473 1.342 0.144 0.071 0.2953 0.1055 0.4453 0.1055 0.367 0 0.7205-0.2017 0.8965-0.5527l0.8945-1.789c0.247-0.494 0.04869-1.095-0.4453-1.342-0.1242-0.0615-0.2549-0.09539-0.3848-0.1035zm16.48 0.9082c-0.3899-0.002719-0.7603 0.2221-0.9238 0.6016l-4.361 10.1c-0.219 0.507 0.01548 1.096 0.5215 1.314 0.129 0.056 0.2625 0.08203 0.3945 0.08203 0.387 0 0.755-0.2275 0.918-0.6055l4.361-10.1c0.219-0.505-0.01548-1.095-0.5215-1.314-0.127-0.0545-0.2587-0.07917-0.3887-0.08008zm6.617 0.2266c-0.1297-0.008047-0.2623 0.007735-0.3926 0.05274-0.521 0.185-0.7934 0.7573-0.6094 1.277l3.664 10.37c0.145 0.411 0.5294 0.668 0.9414 0.668 0.11 0 0.224-0.02059 0.334-0.05859 0.521-0.185 0.7934-0.7554 0.6094-1.275l-3.664-10.37c-0.138-0.3908-0.4938-0.6399-0.8828-0.6641zm-3.057 0.4062c-0.552 0-1 0.447-1 1v7.525c0 0.553 0.448 1 1 1s1-0.447 1-1v-7.525c0-0.553-0.448-1-1-1zm-30.71 0.08984c-0.2549-0.023-0.519 0.05202-0.7305 0.2285-0.424 0.354-0.48 0.9842-0.127 1.408l1.281 1.537c0.198 0.238 0.4806 0.3594 0.7676 0.3594 0.226 0 0.4536-0.07547 0.6406-0.2305 0.423-0.353 0.48-0.9842 0.127-1.408l-1.281-1.539c-0.177-0.2125-0.4229-0.3325-0.6777-0.3555zm16.46 0.1562c-0.552 0-0.9961 0.447-0.9961 1s0.4539 1 1.006 1c0.553 0 1-0.447 1-1s-0.447-1-1-1h-0.009766zm-22.75 0.998c-0.39-0.002625-0.7611 0.2264-0.9238 0.6074-0.218 0.507 0.01739 1.096 0.5254 1.314l1.838 0.7871c0.128 0.056 0.2625 0.08008 0.3945 0.08008 0.388 0 0.7579-0.2265 0.9199-0.6055 0.218-0.507-0.01739-1.094-0.5254-1.312l-1.838-0.7891c-0.1272-0.0555-0.2606-0.08116-0.3906-0.08203zm20.49 0.8125c-0.2532-0.03612-0.5202 0.02591-0.7422 0.1914l-1.6 1.199c-0.442 0.331-0.5322 0.9574-0.2012 1.398 0.196 0.262 0.4968 0.4004 0.8008 0.4004 0.208 0 0.4196-0.06422 0.5996-0.1992l1.6-1.201c0.442-0.331 0.5322-0.9574 0.2012-1.398-0.165-0.221-0.405-0.3545-0.6582-0.3906zm-15.9 1.158c-0.3897-0.002203-0.7611 0.2264-0.9238 0.6074-0.218 0.507 0.01544 1.094 0.5234 1.312l1.838 0.7891c0.128 0.056 0.2625 0.08008 0.3945 0.08008 0.388 0 0.7579-0.2265 0.9199-0.6055 0.218-0.507-0.01739-1.094-0.5254-1.312l-1.838-0.7891c-0.1268-0.05475-0.2588-0.0813-0.3887-0.08203zm8.223 0.7539c-1.919 0-3.48 1.56-3.48 3.479 0 1.919 1.562 3.48 3.48 3.48 1.919 0 3.479-1.562 3.479-3.48 0-1.919-1.56-3.479-3.479-3.479zm-13.82 2.654c-0.552 0-1 0.447-1 1s0.448 1 1 1h2c0.552 0 1-0.447 1-1s-0.448-1-1-1h-2zm5 0c-0.552 0-1 0.447-1 1s0.448 1 1 1h2c0.552 0 1-0.447 1-1s-0.448-1-1-1h-2zm15.62 0.2441c-0.552 0-1 0.447-1 1s0.448 1 1 1h2c0.552 0 1-0.447 1-1s-0.448-1-1-1h-2zm6.395 0.0293c-0.552 0-0.9961 0.447-0.9961 1s0.4539 1 1.006 1c0.553 0 1-0.447 1-1s-0.447-1-1-1h-0.009766zm-19.16 2.436c-0.129-0.01617-0.2637-0.007204-0.3965 0.0293l-1.922 0.5488c-0.531 0.152-0.8395 0.7053-0.6875 1.236 0.125 0.44 0.5259 0.7266 0.9609 0.7266 0.091 0 0.1834-0.01406 0.2754-0.03906l1.924-0.5488c0.531-0.152 0.8375-0.7053 0.6855-1.236-0.1132-0.3982-0.4529-0.6683-0.8398-0.7168zm12.13 0.9121c-0.3902 0.0075-0.7552 0.2454-0.9082 0.6309-0.206 0.513 0.04364 1.096 0.5566 1.301l1.857 0.7422c0.122 0.049 0.2481 0.07031 0.3711 0.07031 0.397 0 0.7707-0.2369 0.9277-0.6289 0.205-0.512-0.04464-1.093-0.5566-1.299l-1.857-0.7441c-0.1288-0.0515-0.2605-0.07476-0.3906-0.07226zm18.02 0.1699c-0.552 0-1 0.447-1 1v2.889c0 0.553 0.448 1 1 1s1-0.447 1-1v-2.889c0-0.553-0.448-1-1-1zm-34.96 0.291c-0.1289-0.01611-0.2635-0.007453-0.3965 0.0293l-1.924 0.5488c-0.531 0.152-0.8385 0.7073-0.6875 1.238 0.126 0.439 0.5269 0.7246 0.9629 0.7246 0.091 0 0.1844-0.01211 0.2754-0.03711l1.922-0.5508c0.531-0.152 0.8395-0.7053 0.6875-1.236-0.114-0.3975-0.453-0.6685-0.8398-0.7168zm5.904 0.5898c-0.256 0-0.5115 0.09942-0.707 0.2949l-1.414 1.414c-0.39 0.391-0.39 1.024 0 1.414 0.195 0.195 0.451 0.293 0.707 0.293 0.256 0 0.512-0.09797 0.707-0.293l1.414-1.414c0.39-0.391 0.39-1.024 0-1.414-0.1955-0.1955-0.451-0.2949-0.707-0.2949zm15.67 0.8066c-0.3897 0.007875-0.7545 0.2461-0.9082 0.6309-0.205 0.513 0.04559 1.095 0.5586 1.299l0.3574 0.1445c0.121 0.049 0.2451 0.07031 0.3691 0.07031 0.397 0 0.7737-0.2389 0.9297-0.6309 0.204-0.513-0.04659-1.095-0.5586-1.299l-0.3574-0.1426c-0.1288-0.05175-0.2607-0.07489-0.3906-0.07226zm-7.434 0.541c-0.1275 0.02431-0.2524 0.07389-0.3672 0.1504-0.459 0.307-0.5814 0.9267-0.2754 1.387l1.107 1.664c0.193 0.289 0.511 0.4453 0.834 0.4453 0.19 0 0.3837-0.05497 0.5547-0.168 0.46-0.307 0.5824-0.9267 0.2754-1.387l-1.107-1.664c-0.231-0.345-0.639-0.5007-1.021-0.4277zm-6.127 0.6055c-0.3892-0.02466-0.7718 0.1803-0.957 0.5508l-0.7637 1.527c-0.247 0.494-0.04869 1.095 0.4453 1.342 0.144 0.071 0.2973 0.1055 0.4473 0.1055 0.367 0 0.7205-0.2017 0.8965-0.5527l0.7637-1.529c0.248-0.493 0.04674-1.092-0.4473-1.34-0.1238-0.0615-0.255-0.0953-0.3848-0.1035zm2.963 0.4375c-0.552 0-1 0.447-1 1v3.959c0 0.553 0.448 1 1 1s1-0.447 1-1v-3.959c0-0.553-0.448-1-1-1zm-8.611 1.146c-0.2558 0-0.5115 0.09747-0.707 0.293l-1.414 1.414c-0.391 0.391-0.391 1.023 0 1.414 0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.09797 0.707-0.293l1.414-1.414c0.391-0.391 0.391-1.023 0-1.414-0.1955-0.1955-0.4513-0.293-0.707-0.293zm32.59 1.357c-0.552 0-1 0.447-1 1v2.891c0 0.553 0.448 1 1 1s1-0.447 1-1v-2.891c0-0.552-0.448-1-1-1zm-18.04 0.6113c-0.1276 0.02436-0.2522 0.07559-0.3672 0.1523-0.46 0.307-0.5833 0.9267-0.2773 1.387l1.109 1.664c0.193 0.289 0.511 0.4453 0.834 0.4453 0.19 0 0.3817-0.05497 0.5527-0.168 0.459-0.307 0.5843-0.9287 0.2773-1.389l-1.109-1.662c-0.2302-0.345-0.6367-0.5028-1.02-0.4297zm-11 0.6582c-0.3892-0.02438-0.7737 0.1803-0.959 0.5508l-0.8945 1.789c-0.247 0.494-0.04673 1.095 0.4473 1.342 0.144 0.071 0.2953 0.1055 0.4453 0.1055 0.367 0 0.7205-0.2017 0.8965-0.5527l0.8945-1.789c0.246-0.494 0.04674-1.095-0.4473-1.342-0.1238-0.0615-0.2531-0.09539-0.3828-0.1035zm5.066 3.072c-0.552 0-1 0.447-1 1v2.891c0 0.553 0.448 1 1 1s1-0.447 1-1v-2.891c0-0.552-0.448-1-1-1zm23.97 1.438c-0.552 0-1 0.447-1 1v2.889c0 0.553 0.448 1 1 1s1-0.447 1-1v-2.889c0-0.553-0.448-1-1-1zm-23.97 4.342c-0.552 0-1 0.447-1 1v2.889c0 0.553 0.448 1 1 1s1-0.447 1-1v-2.889c0-0.553-0.448-1-1-1zm23.97 1.436c-0.552 0-1 0.447-1 1v1.5c0 0.553 0.448 1 1 1s1-0.447 1-1v-1.5c0-0.553-0.448-1-1-1z'/%3e%3c/svg%3e\")"},e.viewModes=["ground"],e.layer=new x({id:e.id}),e.plans=[{coord:[139.8061467,35.7168468],start:15954984e5,end:15955038e5},{coord:[139.7957901,35.7053016],start:15955002e5,end:15955038e5},{coord:[139.7960082,35.7596802],start:15955866e5,end:15955902e5},{coord:[140.0265839,35.6429351],start:15956718e5,end:1595676e6},{coord:[139.6411158,35.4606603],start:15957594e5,end:15957609e5},{coord:[139.7186873,35.6765851],start:15968826e5,end:15968862e5},{coord:[139.9028813,35.7187124],start:15969681e5,end:15969726e5},{coord:[139.6759402,35.7988664],start:15970536e5,end:1597059e6},{coord:[139.7161639,35.6759322],start:1627038e6,end:16270488e5},{coord:[139.7161639,35.6759322],start:16284204e5,end:16284312e5}]}onAdd(e){this.map=e,e.addLayer(this.layer)}onRemove(e){e.removeLayer(this.id)}onEnabled(){const e=this;e.interval=setInterval((()=>{const t=e.map.clock.getTime();e.plans.forEach(((s,a)=>{t>=s.start&&t<s.end&&Math.random()>.7&&e.layer.launchFireWorks(a,s.coord)}))}),100)}onDisabled(){clearInterval(this.interval)}onVisibilityChanged(e){this.map.setLayerVisibility(this.id,e?"visible":"none")}}return function(){return new b}}));
//# sourceMappingURL=mt3d-plugin-fireworks.min.js.map
