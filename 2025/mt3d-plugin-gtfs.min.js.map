{"version":3,"file":"mt3d-plugin-gtfs.min.js","sources":["../src/index.js","../node_modules/@fortawesome/fontawesome-free/svgs/solid/bus.svg"],"sourcesContent":["import busSVG from '@fortawesome/fontawesome-free/svgs/solid/bus.svg';\n\nfunction addColor(url, color) {\n    const encodedColor = color.replace('#', '%23');\n    return url.replace('%3e', ` fill=\\'${encodedColor}\\' stroke=\\'${encodedColor}\\'%3e`);\n}\n\nclass GtfsPlugin {\n\n    constructor(options) {\n        const me = this;\n\n        me.id = 'gtfs';\n        me.name = {\n            de: 'GTFS',\n            en: 'GTFS',\n            es: 'GTFS',\n            fr: 'GTFS',\n            ja: 'GTFS',\n            ko: 'GTFS',\n            ne: 'GTFS',\n            pt: 'GTFS',\n            th: 'GTFS',\n            'zh-Hans': 'GTFS',\n            'zh-Hant': 'GTFS'\n        };\n        me.iconStyle = {\n            backgroundSize: '32px',\n            backgroundImage: `url(\"${addColor(busSVG, 'white')}\")`\n        };\n        me.enabled = options && options.enabled;\n    }\n\n    onAdd(map) {\n        this.map = map;\n    }\n\n    onEnabled() {\n        this.map.setDataSources([{\n            gtfsUrl: 'https://api-public.odpt.org/api/v4/files/Toei/data/ToeiBus-GTFS.zip',\n            vehiclePositionUrl: 'https://api-public.odpt.org/api/v4/gtfs/realtime/ToeiBus',\n            color: '#9FC105'\n        }, {\n            gtfsUrl: 'https://api.odpt.org/api/v4/files/YokohamaMunicipal/data/YokohamaMunicipal-Bus-GTFS.zip',\n            vehiclePositionUrl: 'https://api.odpt.org/api/v4/gtfs/realtime/YokohamaMunicipalBus_vehicle',\n            color: '#1B1464'\n        }, {\n            gtfsUrl: 'https://api-public.odpt.org/api/v4/files/odpt/KeiseiTransitBus/AllLines.zip?date=current',\n            vehiclePositionUrl: 'https://api-public.odpt.org/api/v4/gtfs/realtime/odpt_KeiseiTransitBus_AllLines_vehicle',\n            color: '#C73734'\n        }]);\n    }\n\n    onDisabled() {\n        this.map.setDataSources([]);\n    }\n\n}\n\nexport default function(options) {\n    return new GtfsPlugin(options);\n}\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3e%3c!--! Font Awesome Free 6.7.2 by %40fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0%2c Fonts: SIL OFL 1.1%2c Code: MIT License) Copyright 2024 Fonticons%2c Inc. --%3e%3cpath d='M288 0C422.4 0 512 35.2 512 80l0 16 0 32c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32l0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32-192 0 0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32c0 0 0 0 0 0l0-32s0 0 0 0l0-16C64 35.2 153.6 0 288 0zM128 160l0 96c0 17.7 14.3 32 32 32l112 0 0-160-112 0c-17.7 0-32 14.3-32 32zM304 288l112 0c17.7 0 32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-112 0 0 160zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16L208 64c-8.8 0-16 7.2-16 16s7.2 16 16 16l160 0c8.8 0 16-7.2 16-16z'/%3e%3c/svg%3e\";\n  export default img;"],"names":["addColor","url","color","encodedColor","replace","GtfsPlugin","constructor","options","me","this","id","name","de","en","es","fr","ja","ko","ne","pt","th","iconStyle","backgroundSize","backgroundImage","enabled","onAdd","map","onEnabled","setDataSources","gtfsUrl","vehiclePositionUrl","onDisabled"],"mappings":";;;;;;yOAEA,SAASA,EAASC,EAAKC,GACnB,MAAMC,EAAeD,EAAME,QAAQ,IAAK,OACxC,OAAOH,EAAIG,QAAQ,MAAO,UAAWD,cAA2BA,QACpE,CAEA,MAAME,EAEF,WAAAC,CAAYC,GACR,MAAMC,EAAKC,KAEXD,EAAGE,GAAK,OACRF,EAAGG,KAAO,CACNC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJ,UAAW,OACX,UAAW,QAEfZ,EAAGa,UAAY,CACXC,eAAgB,OAChBC,gBAAiB,QAAQvB,EC5B3B,sgCD4B4C,cAE9CQ,EAAGgB,QAAUjB,GAAWA,EAAQiB,OACxC,CAEI,KAAAC,CAAMC,GACFjB,KAAKiB,IAAMA,CACnB,CAEI,SAAAC,GACIlB,KAAKiB,IAAIE,eAAe,CAAC,CACrBC,QAAS,sEACTC,mBAAoB,2DACpB5B,MAAO,WACR,CACC2B,QAAS,0FACTC,mBAAoB,yEACpB5B,MAAO,WACR,CACC2B,QAAS,2FACTC,mBAAoB,0FACpB5B,MAAO,YAEnB,CAEI,UAAA6B,GACItB,KAAKiB,IAAIE,eAAe,GAChC,SAIe,SAASrB,GACpB,OAAO,IAAIF,EAAWE,EAC1B","x_google_ignoreList":[1]}